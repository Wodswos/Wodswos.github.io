> 例题来自 张宇考研数学课程、李正元数学一复习全书

# 基础概念

## 导数的定义

函数y（因变量）相对于自变量x的变化速度（也即因变量对自变量的敏感程度），可以通过如下表达式体现
$$
\frac {f(\alpha+h) -f(\alpha)} h
$$
更进一步，我们想得到在某一点，因变量y对自变量x的敏感程度的更精确的描述。

很自然地联想到可以令$h \to 0$，从而就得到了导数的定义：
$$
f'(x_0 ) = \lim_{h\to 0} \frac {f(x_0 + h ) - f(x_0)}  h = \lim_{x\to x_0} \frac {f(x) - f( x_0 )} {x- x_0}
$$

> 函数在某一点连续且导数为无穷大的例子：$f(x) = x\ln x$

## 导数 vs 微分

> 此节内容大量复制粘贴自以下文章和内容：
>
> dy/dx 这是一个整体，可以确定一个极限，为什么可以将其分开（请再看一下问题补充说明）？ - jack的回答 - 知乎 https://www.zhihu.com/question/432588711/answer/1629028795
>
> 老师说链式法则里某个 dy/dx 不能理解为 dy 除以 dx，为什么？ - XYXie的回答 - 知乎 https://www.zhihu.com/question/66601481/answer/1651030527
>
> 微分到底是什么意思？实际意义是什么？ - 湖心亭看雪的回答 - 知乎 https://www.zhihu.com/question/53159621/answer/276684374

> 还参考了：
>
> 微分和导数的关系是什么？两者的几何意义有什么不同？为什么要定义微分 ? - Dylaaan的回答 - 知乎 https://www.zhihu.com/question/22199657/answer/1559144137
>
> 老师说链式法则里某个 dy/dx 不能理解为 dy 除以 dx，为什么？ - 杨树森的回答 - 知乎 https://www.zhihu.com/question/66601481/answer/1530642920
>
> 逐渐有微积分的味了：余切空间（结尾有感想性的见解） - 杨树森的文章 - 知乎 https://zhuanlan.zhihu.com/p/222338086
>
> 微分和导数的关系是什么？两者的几何意义有什么不同？为什么要定义微分 ? - 马同学的回答 - 知乎 https://www.zhihu.com/question/22199657/answer/115178055


### 可以表示求导的不同数学符号

对于函数 $y=f(x)$ 在点 $a \in U $ 处的导数，

* 拉格朗日（Lagrange）记号写作 $f'(a)$
* 莱布尼兹（Leibniz）记号写作 $\frac {\mathrm d y} {\mathrm d x}|_{x=a}$
* 欧拉（Euler）记号写作 $(Df)(a)$
* 牛顿记号写作 $\dot y (a)$

这些符号都表达同一个意思，但在不同的语境下强调导数不同方面的意义：

- 从莱布尼兹符号可以看出函数的「自变量」和「因变量」的名字；
- 有的场合完全不需要引进因变量的名字，拉格朗日记号的表达就非常简洁；
- 欧拉记号强调把导数看作「微分算子」。
- 在曲线论里经常用牛顿记号特别地表达对「弧长参数」的导数；

![v2-9a71e52ec87cfd3afb525b775b74fbb4_r](C:\Users\Five\Desktop\note\img\v2-9a71e52ec87cfd3afb525b775b74fbb4_r.jpg)

### 如何理解莱布尼兹符号

即常用来表示微分形如 $\frac {\mathrm d y} {\mathrm d x} $ 的莱布尼兹符号是两个无穷小量的比值？还是一个整体的符号？

就目前而言，主流的以极限为基础的分析中一般将莱布尼兹符号视为一个整体处理。

#### 首先，这是一个历史遗留问题

极限作为分析的基石是微积分发展史的一道分水岭。在此之前为**古典微积分**，在此之后为**极限微积分**。



**古典微积分基于微分（无穷小量）定义导数（极限），即微分 $\frac {\mathrm d y}{\mathrm d x }$ 确实被粗略地定义为两个无穷小量 $\mathrm d y$ 和 $\mathrm d x$ 的商。**

**极限微积分通过导数（极限）定义微分（无穷小量），即极限微积分里的微分 $\frac {\mathrm d y}{\mathrm d x }$ 是一个线性函数。**



* 莱布尼兹定义使用这一符号时（古典微积分年代）尚未有（现在主流的从极限出发的）严格的导数定义，故把导数定义为两个无穷小量 $\mathrm d y$ 和 $\mathrm d x$ 的商，故莱布尼兹本人也是把符号 $\frac {\mathrm d y} {\mathrm dx}$ 理解为两个无穷小量的比值。

* 而在极限微积分中，建立了极限这一基石后，微分（导数）、无穷小量等概念被重新基于极限定义。但是依旧常使用莱布尼兹符号表示微分（导数），
* 《数学分析八讲》里也指出：这种线性函数沿用无穷小量的名字，但其内涵深刻改变了。

> 对于复合函数求导，$\frac {\mathrm d y} {\mathrm d x}   = \frac {\mathrm d y} {\mathrm d u} \frac {\mathrm d u} {\mathrm d x}$，在古典微积分中，$\mathrm d u$似乎是简单的分子分母的约分消去。但在极限微积分中，这是通过严格的数学证明得到的结论，只是恰巧，其结论看起来像是一次简单的约分——而且到了二阶导等某些情况就不适用了。
>
> 详见后文。

> 在非标准分析里，还有原来的无穷小量（$\mathrm d y$ 和 $\mathrm d x$）的概念，用严格的语言回到莱布尼兹的初衷。

#### 最保险的符号理解：求导符号

故，现在常用的 $\frac {\mathrm d y} {\mathrm d x}$ 其更现代（主流）的理解（写法）是：
$$
\frac {\mathrm d } {\mathrm d x} \cdot y
$$
算符 $\frac {\mathrm d } {\mathrm d x}$ 表示该算符后面的东西对 $x$ 求导，同理
$$
\frac {\mathrm d } {\mathrm d x } (\frac {\mathrm d} {\mathrm d x} (y)) =\frac {\mathrm d^2} {\mathrm d x^2} (y)
$$
即算符 $\frac {\mathrm d^2} {\mathrm d x^2} $ 表示该算符后的东西对 $x$ 求二阶导。







古典微积分中，表达式 $\int _a ^b \frac {\mathrm d y } {\mathrm d x} \mathrm d x$ 中 dx 表示 $x$ 轴上一段趋于无穷小的长度。

而在极限微积分中，表达式 $\int _a ^b \mathrm d x$ 作为一个整体表示求黎曼积。





一般默认，$\mathrm d x^2$ 表示 $(\mathrm d x )^2$ 而不是 $\mathrm d (x^2)$ 
$$
\frac {\mathrm d ^2 y} {\mathrm d x^2} = \frac {\mathrm d^2 y} {(\mathrm d x)^2} = 	\frac {\mathrm d \frac {\mathrm d y} {\mathrm d x}} {\mathrm d x}
$$



#### 什么情况下可以视为比值？

如果如后文所述，可导 = 可微，那应该莱布尼兹符号也是一直可以视为线性主部（微分）的比值的咯？



### 导数和微分，可导和可微


$$
f'(x) = \lim_{h \to 0}\frac {f(\alpha + h) - f(\alpha)} h = \lim _{\Delta x \to 0 }\frac {\Delta y }{\Delta x} \approx \frac {\mathrm d y }{\mathrm d x}
$$

> $\lim_{\Delta x \to 0} \frac {\Delta y} {\Delta x} = f' (x)$，即$\frac {\Delta y }{\Delta x} = f'(x) + a$，即$\Delta  y = f'(x) \Delta x + a \Delta x$，最后有$\Delta y \approx f'(x)\Delta x$

如果函数 $f(x)$ 在点 $\alpha $ 处有导数，就是说当 $x=\alpha$ 时是可微的；如果导数在该区间的每一个内点都存在，称其在区间 $[a,b]$ 上是可微的。



**函数在某点处「可导」与函数在某点处「可微」是一回事，英文都是 differentiable。**

「函数在某点处的导数（derivative）」与「函数在某点处的微分（differential）」是两个不同的概念，但两者的关系非常简单：那就是某个实数 $a$ 与这个实数所定义的 $\mathbb{R}$ 上的线性变换 $ h \mapsto ah$ 的关系。



**导数的几何意义是“变化率”，而微分的几何意义是“线性替代”。**

所谓**“线性替代”**即用一个线性函数作为原函数变化的逼近（或者叫近似）。

如$ y = x^2 $，当自变量增加一个$\Delta x$时，$\Delta y = f(x+\Delta x) - f(x) = 2x\Delta x + (\Delta x)^2$，其中 $2x \Delta x$ 称为**线性主部**（微分），$ (\Delta x )^2$为误差（高阶无穷小）。



> 菲赫金哥尔茨《微积分原理》亦有阐明：$\mathrm d y$ 和 $\Delta y$ 在 $\Delta x$ 趋于零时不仅其差值趋于零，且其相对误差亦趋于零。切线增量不能说明微分本质，其本质是“因变量变化中关于自变量成线性关系的部分”。

### 微分的复合运算

有了前面的铺垫，可以知道 $\frac {\mathrm d z} {\mathrm d x} = \frac {\mathrm d z} {\mathrm d y} \frac {\mathrm d y} {\mathrm d x}$ 不能简单地理解为分子分母的相消。



若有 $z = g(y)$，$y = f(x)$ 则可以有微分
$$
\frac {\mathrm d z} {\mathrm d x} = \frac {\mathrm d z} {\mathrm d y} \frac {\mathrm d y} {\mathrm d x} =  f'(x)g'(y) \\
\frac {\mathrm d^2 z } { \mathrm d x^2} 
= \frac {\mathrm d \frac {\mathrm d z} {\mathrm dx}}{\mathrm d x} 
= \frac {\mathrm d (\frac {\mathrm d z} {\mathrm dy} \frac {\mathrm d y}{\mathrm d x})}{\mathrm d x} 
= \frac {\mathrm d z} {\mathrm d y} \frac {\mathrm d \frac {\mathrm d y} {\mathrm dx}} {\mathrm dx} 
+ \frac { \mathrm d y} {\mathrm d x } \frac {\mathrm d \frac {\mathrm d z} {\mathrm dy} } {\mathrm d x}
= \frac {\mathrm d z} {\mathrm d y} \frac {\mathrm d ^2y} {\mathrm d x^2} 
+ (\frac { \mathrm d y} {\mathrm d x })^2 \frac {\mathrm d^2 z}{\mathrm dy^2} = g'(y) f''(x) + [f'(x)]^2g''(y)
$$



## 导数基本性质

如驻点导数为0，拐点二阶导数为0.

若 $f(x)$ 为奇函数，则 $f'(x)$ 为偶函数；若 $f(x)$ 为偶函数，则 $f'(x)$ 为奇函数。

若 $f(x)$ 是以 T 为周期的可导函数，则 $f'(x)$ 也一定是以T为周期的函数。

# 求导[^1]

## 基本方法

### 从定义出发

**常用于求特定某一点的导数值**，通过定义可知，就是**求一个极限**。



例题：$f(x) = 2 \sqrt {1+x} + \arcsin {\frac {1 - x} {1+x^2}}$​，求 $f'(1)$

技巧：函数的前半部分较为简单，可以直接求导再带入值，后半部分较为复杂，可借助定义求其特定点的导数值。



例题：求下列函数的导数 $y'$
$$
y = \sqrt[3]{x^2} \sin x
$$
提示：当 $x \ne 0$ 时直接由求导法则可得，对 $x = 0$ 处的导数需要通过定义求解。**不能因为求导法则得到的式子在 $x=0$ 处无定义就认为该点导数不存在。**



> 分段函数分段点的导数值一般从导数的定义出发去研究（也可能不存在导数）



### 四则运算

加减不赘述了

乘法法则：（**前提：u和v处处可导**，但一般不会在这里出题使绊子）：
$$
(uv)' = u'v + uv'
$$




> 设 $g(x)$ 在 $x=a$ 可导，$\varphi(x)$ 在 $x=a$ 连续而不可导，则当且仅当 $g(a)=0$ 时 $g(x)\varphi(x)$ 可导且导数为 $g'(a)\varphi(a)$.
>
> 证明略，可用于一元函数乘积的可导性的判定。

例题：$f(x) = e ^{10x} x (x+1) (x+2) \dots(x+10)$，求$f'(0)$。

技巧：令$g(x)= e^{10x} (x+1) (x+2) \dots (x+10)$，则有$f(x) = x g(x), f'(x) = x g'(x) + g(x)$，显然$f'(0) = 10 !$



例题：$f(x) = x^{\frac 2 3} \sin x$，求$f'(0)$

分析：在0处$x^{\frac 2 3}$不可导，故不能直接用乘法法则。



除法法则（实际上除法法则可以很简单地通过 乘法法则+链式法则 推导得到）：
$$
(\frac u v)' = \frac {u'v - uv'} {v^2}
$$

### 常用函数（初等函数）的导数

$$
(x^k) = k x ^ {(k-1)} \\
(\ln x)' = \frac 1 x \\
(e^x)' = e^x , (a^x) = (e^{x \ln a })' = a ^x \ln a  \\
\\

(\sin x) ' = \cos x , (\cos x)' = \sin x \\
(\tan x) ' = \sec ^2 x = 1 + \tan ^2 x , \\
(\cot x)' = - \csc^2 x = -1 - \cot ^2 x\\
$$

> 其中正弦函数的求导在原有基础上运用诱导公式可以得到：$\sin x =\cos x = \sin (x +\frac \pi 2)$，余弦函数的求导同理。
>
> 运用此技巧可以使得描述三角函数的n阶通项更简洁。

还有常见的反三角函数的求导结果：
$$
(\arctan x)' = \frac 1 {1+x^2}  \\
(\arccot x)' = - \frac 1 {1+x^2} \\
(\arcsin x)' = \frac 1 {\sqrt {1-x^2}} \\
(\arccos x)' = - \frac  1 {\sqrt {1-x^2}}
$$

> 反三角函数的求导可用到反函数导数的性质，即 $x= f^{-1}(y)$ 的微分 $\frac {\mathrm d x} {\mathrm d y} = \frac 1 {\frac {\mathrm d y} {\mathrm d x}}$ ，即对 $y= \sin x$ 的反函数 $x = \arcsin y$ 有
> $$
> x' = (\arcsin y)' = \frac 1 {(\sin x)'} =\frac 1 {\sqrt{1 -\sin^2 x}} = \frac 1 {\sqrt{1- (\sin \arcsin y)^2 }}  = \frac 1 {\sqrt {1-y^2}}
> $$
> 当然，最后把自变量和因变量字母互换一下就是常见的形式了。
>
> $(\arctan x)'$ 类似，也都需要用到一次 $1 = \cos^2 x + \sin^2 x$ 的恒等代换。

稍进一步，以对数函数为外层函数的复合函数求导时，内层的函数加不加绝对值不影响求导结果（影响的是复合函数的定义域），可对内层函数 $u_x$ 为正和为负两种情况分类讨论得到证明。
$$
\ln |u_x| = \frac {u_x'} {u_x} \qquad (u_x > 0 )  \\
\ln |u_x| = \ln (-u_x) = - \frac {- u_x '} {- u_x} = \frac {u_x'} {u_x} =\ln u_x \qquad  (u_x < 0)
$$
故类似下列式子就比较好理解了：
$$
(\ln |x| )' = (\ln x)' = \frac 1 x ,  \\
(\ln |{\cos x}|)' = (\ln \cos x)' =-\tan x \\
(\ln |{\sin x}|)' = (\ln \sin x)' = \cot x \\
(\ln |{\sec x + \tan x }|)' = \dots = \sec x \\
(\ln |{\csc x - \cot x}|)' = \dots = \csc x
$$
再稍进一步，
$$
(\ln (x+\sqrt {x^2 + a^2}))' = \frac 1 {\sqrt {x^2 + a^2}} \\
(\ln (x+\sqrt {x^2 - a^2}))' = \frac 1 {\sqrt {x^2 - a^2}}
$$

## 复合函数求导：「线性替代」和「相对变化率」的理解与运用

由复合函数求导法则导出的几类函数的微分法：

* 幂指数函数 $f(x) ^ {g(x)}$ 的求导数法
* 反函数的求导法
* 由参数方程确定的函数的求导法
* 隐函数微分法



例题：已知可微函数 $y = y (x)$ 由方程 $y = -y e^x + 2 e^y \sin x -7x$ 所确定，求 $y''(0)$。[^1]

例题：设 $f(x) =  |x| e^{-|x-1|}$​，问 $f'(0),f'(1)$ 是否存在，若存在求其值​。更进一步，求 $f'(x)$。





### 参数方程

给定参数方程 $x=\varphi(t) , y=\psi(t)$，此处略去需要满足条件，则有
$$
\frac {\mathrm dy} {\mathrm d x} 
= \frac {\mathrm d y} {\mathrm d t} \cdot \frac {\mathrm d t} {\mathrm dx} 
= \frac {\psi'(t)} {\varphi'(t)} \\

\frac {\mathrm d^2 y}{\mathrm d x^2}
=\frac{\mathrm d} {\mathrm d x} [\frac {\psi '(t)} {\varphi'(t)}]
=\frac{\mathrm d} {\mathrm d t} [\frac {\psi '(t)} {\varphi'(t)}]  \frac {\mathrm d t} {\mathrm dx}
=\frac {\psi ''(t)\varphi'(t) - \psi'(t)\varphi''(t)} {\varphi'^3(t)}
$$
例题：设 $y = y(x)$ 由参数方程
$$
\begin{cases}
x = 1 + t^2 \\
y = \cos t
\end{cases}
$$
确定，求$\frac {\mathrm d y} {\mathrm d x}$和$\frac {\mathrm d^2 y}{\mathrm d x^2}$.



### 隐函数的微分

对于二元方程 $F(x,y) = 0$ 在区间 $I$ 上确定的隐函数，可以将方程两边同时对自变量x求导/微分，并将另一变量（如y）视为自变量x的函数，然后利用复合函数求导法则求导即可，最后变形得到结果。



#### 拓展：多元函数的复合求导

由二元方程 $F(x,y) = 0 $ 可知 y 和 x 可以在特定区间 $I$ 上存在函数关系，即隐函数，记作 $y(x)$ .

从而可以得到一个恒为零的二元函数 $F = F(x,y(x)) = 0$ ，再对该函数进行求导（函数恒为0，显然求导结果也为0），加以变形可得到如下公式
$$
\frac {\partial F} {\partial x} + \frac {\partial F } {\partial y} \frac {\mathrm d y} {\mathrm d x} = 0  \\

\frac {\mathrm d y} {\mathrm d x} = - \frac {F_x} {F_y}
$$


### 变限积分的求导





### 复合函数的深刻内涵：复合？换元？相对变化率？

参数方程、隐函数，这些特殊的函数，求导运用的技巧背后实质都是复合函数的求导法则，显然不是巧合。









## 高阶导数的求导

### 归纳法：初等函数的 n 阶导数公式

简单的初等函数（如多项式、正余弦、指对数等函数）大都可以较为简单地发现其 n 阶导的规律。

$$
(\frac 1 x )^{(n)} = ( x^{-1})^{(n)} = (-1)^n \cdot n ! \cdot x^{-(n+1)} \\
(\ln x )^{(n)} = (\frac 1 x ) ^{(n-1)}= (-1)^ {n-1} \cdot (n-1)! \cdot x^{-n} \\
(e^x) ^{(n)} = e^x \\
(a^x) ^{(n)} = a^x (\ln a)^n \\
(\sin k x)^{n} = k^n \sin (kx + n \cdot \frac \pi 2) \\
(\cos k x)^{n} = k^n \cos (kx + n \cdot \frac \pi 2)
$$
例题：$y = \ln (1+x)$，求 $y^{(n)}$

例题：设 $z = \frac {y^2} x$ ，则 $\frac {\partial ^{10} z} {\partial x^{10}}$ = ?



#### 分解法

通过恒等变形将要求 $n$ 阶导数的函数分解成上述简单初等函数之和，主要如有理函数和无理函数的分解、三角函数的分解等。

例题：求下列函数的 $n$ 阶导函数 $y^{(n)}$
$$
y = \frac {x^n} {1+x} ,
y = \frac {1+x} {\sqrt {1-x}} , 
y = \sin ^4 x \\
y = \ln (3 + 7x - 6x^2)
$$
### 莱布尼兹法则：乘法求导法则的扩展

$$
[u(x) v(x)]^{(n)} = \sum _{k=0} ^n C_n ^k u ^{(k)} (x) v^{(n-k)} (x)
$$
例题：$y = e^x \cos x$，求 $y^{(4)}$

例题：设 $f(x) = (x^2 - 3x + 2)^n \cos \frac {\pi x ^2} {16}$，求 $f^{(n)}(2)$

提示：**对原函数进行因式分解** $f(x) = (x-2)^n(x-1)^n \cos \frac {\pi x ^2} {16}$，令 $u =x-2, v= (x-1)^n \cos \frac {\pi x^2} {16}$，**然后用莱布尼兹公式展开**，发现大部分项为 0 （除 $u$ 求 $n$ 次导的那一项外带入 x=2 都会为 0）

例题：$f(x) = xe^x$ ，求 $f^{(n)} (x)$ 。

提示：除了对 $x$ 部分求零次导和一次导的情况，其他项均为0。





### 借助泰勒公式或幂级数展开的唯一性

函数通过抽象和具象（十个公式）的两次展开，再利用展开式的唯一性，得到方程求得结果。

> **往往是用于求零点处的导函数值（即泰勒公式在零点处的展开，即麦克劳林展开式）**，因为只有在零点处，n 阶导数的值才正好只对应展开式中的某一项求 n 次导。
>
> （更高阶的项求导后含有x的幂，故带入得零去掉；更低阶的项在求导过程中早早变成常数，再导一次后就去掉了）



例题：设 $f(x) = \frac x {1-2x^4}$, 则 $f^{(101)} (0) $ = ？

提示：由展开式 $\frac 1 {1-x} = 1 + x + x^2 + \dots +x ^n$ 可知 $\frac 1 {1-2x^4} = \sum ^{\infty} _{n=0} (2x^4)^n$

> $$
> \frac 1 {1-x} = 1 + x + x^2 + \dots +x ^n
> $$
>
> 这个展开式很灵活（把式中的 $x$ 换成各种各样的无穷小），也很重要。



麦克劳林展开式 $f(x) = \sum _{n=0} ^ {\infty} \frac {f^{(n)}(0)} {n!} x^n$.





## 其他求导技巧

* 反函数

例题：设 $ y = f(x)$ 与 $ x = g(y)$ 互为反函数，$y = f(x) $ 可导且 $f'(x) \ne 0, f(3) = 5, h(x) = f[\frac 1 3 g^2(x^2+3x+1)] $，求 $h'(0)$.

技巧：反函数的图像与原函数图像关于直线 $y=x$ 轴对称。且对于特定的一点 $y_0 = f(x_0)$，有 $f'(x_0)\cdot g'(y_0) = 1$.



### 取对数：多项乘除变加减

例题：

1.设 $y = [(1+x)(3+x)^9]^{\frac 1 2} \cdot (2+x)^4 $ ，求 $y'(0)$。

2.设 $y=(x-1) \sqrt[3] {(3x+1)^2(2-x)}$ ，求 $y'$ 与 $y'(1)$.

解（第二小问）：
$$
\ln |y| = \ln |x-1| + \frac 2 3\ln |3x+1| + \frac 1 3 \ln |2-x| \\
\frac 1 y y'= \frac 1 {x-1} + \frac 2 3 \frac 3{3x+1} + \frac 1 3 \frac 1 {x-2}
$$
> 当然，如果只是求特定某一点的导数值，从定义出发求解可能依旧是最简便直接的方法。

例题：$ y = \ln (3 + 7x - 6x^2)$ ，求 $y^{(n)}$



# 中值定理

中值定理描述的是函数的导函数的性质。

> 积分中也有积分中值定理。

## 定理的正向推导

### 费马引理

若 $x_0$ 是其某邻域的最值点，则有 $f'(x_0) =0$

（或者说，$x_0$ 是某一区间**内**的极值点，则有 $f'(x_0) = 0$）



### 罗尔中值定理

假设函数 $f$​​​ 在闭区间 $[a, b]$​​ 内连续, 在开区间 $(a, b)$​ 内可导. 如 果 $f(a) = f(b)$​, 那么在开区间 $(a, b)$​ 内至少存在一点 c, 使得 $f'(c) = 0$​.

>罗尔定理可以扩展至高阶导数。
>
>由 $f(a) = f(b)$ 可得到 $f'(\xi) = 0$
>
>由 $f(a) = f(b) = f(c)$ 可得到 $f'(\xi_1) = f'(\xi_2) = 0$ ， 从而有  $f''(\xi _3 = 0)$。（相当于用了三次罗尔定理）
>
>以此类推。
>
>同理后续的拉格朗日中值定理等也可有类似扩展。

### 拉格朗日中值定理

假设函数 $f$ 在闭区间 $[a, b]$ 内连续, 在开区间 $(a, b)$ 内可导, 那 么在开区间 $(a, b)$ 内至少有一点 $\xi$ 使得
$$
f'(\xi) = \frac {f(b) - f(a)} {b-a}
$$

> 最简单的证明方法就是构造辅助函数，令 $A = \frac {f(a) - f(b)} {a-b}$，再令 $g(x) = f(x) - Ax$​​。然后就转换到了罗尔定理的形式。显然存在一点 $\xi$，使得 $g'(x) = f'(\xi) - A = 0$，进而得到 $ f'(\xi) = A$



### 柯西中值定理

设函数 $f(x),g(x)$ 满足以下条件：

* $f(x),g(x)$ 在闭区间 $[a,b]$ 上连续
* $f(x),g(x)$ 在开区间 $(a,b)$ 上可导
* $\forall x \in (a,b)$ 都有 $g'(x)\ne 0$

则存在 $\xi \in (a,b)$，使得下述等式成立。
$$
\frac {f(a)-f(b)} {g(a)-g(b)} = \frac {f'(\xi)} {g'(\xi)}
$$


显然拉格朗日中值定理是柯西中值定理在 $g(x) = x$​ 的情况下的特例

可以变换一下形式，令 $x=f(t) ,y = g(t)$​​，得到参数方程。



## 应用

### 泰勒公式的拉格朗日余项

泰勒公式通项为
$$
f(x) = f(x_0) + f'(x_0)(x-x_0) + \frac {f''(x_0)(x-x_0)^2} {2!} + \dots + \frac {f^{(n)} (x_0) (x-x_0) ^ n} {n!} + P_n(x)
$$
通过对$n$ 阶泰勒展开式求 $n$ 阶导，可得到$f^{(n)}(x) = 0 + 0 + \dots + 0 + f^{(n)}(x_0) + P^{(n)}_n (x)$，带入拉格朗日中值定理再移项，可得存在一点 $\xi \in [x_0, x]$ 使得
$$
\frac {f^{(n)}(x) - f^{(n)}(x_0)} {x-x_0} = f^{(n+1)}(\xi)  \\
f^{(n)}(x) = f^{(n)}(x_0) + f^{(n+1)}(\xi) (x-x_0)
$$
即 $P^{(n)}_n (x) = f^{(n+1)} (\xi) \cdot (x -x_0)$，最后把 $P^{(n)} _n (x)$ 再积回去，可得到拉格朗日余项如下
$$
P_n(x) = \frac {f^{(n+1)}(\xi) \cdot (x_0 - x)^{n+1}} {(n+1)!}
$$

从而得到带拉格朗日余项的泰勒展开式
$$
f(x) = \sum _{k=1} ^n  \frac {f^{(k)}(x_0) (x-x_0)^k} {k!} + \frac {f^{(n+1)}(\xi) \cdot (x_0 - x)^{n+1}} {(n+1)!}
$$


### 洛必达法则的证明

> 众所周知，洛必达法则是洛必达买的，洛必达生活的年代是1661年-1704年——而柯西，还得近一个世纪（1789年）才出生。
>
> 而现在一般都用柯西中值定理证明洛必达法则，在历史上这时间序列应该是不太可的。
>
> 所以，有理由推测，洛必达法则在提出之初，并没有严格的证明（大概也是因此称之为法则而不是定理）。

略，以后有机会再填坑。

### 其他应用



# 导函数的应用：辅助对原函数性质的研究

## 切线与法线：函数的斜率

* 一般直线可设为 $y-y_0 = k(x-x_0)$
  * 其中 k 就是函数在该点的导数（也是直线的导数，所以两者相切）
* 还可以求两曲线的交角，结果可以用反三角函数表示
* 对于参数方程，可以按照参数方程的方法求得导数，也可以直接套用公式 $ \frac {y-y_0} {y'(t_0)} = \frac {x - x_0} {x'(t_0)} $
  * 显然极坐标可以视为一种特殊的参数方程（$x=r\sin \theta =r(\theta)\sin \theta$，y也同理，都是θ的参数方程）
  * 隐函数也类似
* **连续但导数无穷大，如 $f(x) = x\ln x$ 在0点的情况（当然还要进一步定义完整的函数，至少零点附近邻域上函数需要均有定义，如 $f(0)=0,f(x)=f(-x),x<0$），那么此时的切线方程就是 $x = 0$**



## 导数正负性：函数的单调性和凹凸性

* 极值点 和 单调性：一阶导的正负性
  * 大部分时候，极值点是一阶导零点，**极值点也可能一阶导不存在，一阶导零点也可能不是极值点**，关键还是==**该点两侧一阶导的正负性不同**==，不同号则为极值点
  * 分区间列表讨论，梦回高中
  
* 值域（基本等同于前面一点内容）
  * 高中知识了属于是
* 拐点 和 凹凸性：二阶导的正负性
  * 拐点，又称反曲点，函数凹与凸的分界点。
  * 同理，大部分时候，拐点是二阶段零点，**驻点也有可能二阶导不存在，二阶导零点也可能不是驻点**，关键还是==**该点两侧的二阶导正负性不同**==，不同号则为拐点
  * 直观几何感受是该点的切线（在任意小的邻域内都）穿过曲线。
    * 或者说明明是相切，却表现出相交的感觉
    * 因为该点的**一阶导取最值**，即切线的斜率达到最值，邻域内点的斜率都比该点小（或大），可不得像相交

  * 二阶导数在拐点处异号（一阶导为极值点或间断点）



## 其他性质/应用

* 渐近线（此处主要是极限的应用，而不是导函数的应用）
  * ① 找无定义点或定义区间的端点（的极限），往往是**铅垂渐进线**
  * ② 求 $x$ 趋于无穷大时函数的极限 $\lim _{x\to + \infty} f(x) $ 是否存在，若存在，则为**水平渐近线** 
  * ③ 若 $x$ 趋于无穷大时函数极限不存在，同时满足如下两个条件，则存在**斜渐近线**
    * ① 验证函数与 $y=x$ 是否为同阶无穷大，
      * 指数跑太快，显然没有斜渐近线跟得上；对数跑太慢，显然没有斜渐近线等得及
      * 仅满足 ① 不一定存在斜渐近线，如 $x + \ln x$ 或 $x + \sin x$ 都是 $x$ 的同阶无穷大，但不存在斜渐近线（一个越来越远离，一个在震荡）
    * ② 极限 $\lim _{x\to \infty} [y(x) -ax]$  存在



* 函数曲率

$$
k = \frac {|y''|} { (1 + {y'}^2) ^{\frac 3 2}}
$$



### 对相对变化率的理解/运用

例题：质点 $P$ 沿抛物线 $x=y^2 (y>0)$ 移动，$P$ 的横坐标 $x$ 的变化速度为 $5 \mathrm{cm/s}$ ，当 $x=9$ 时，点 $P$  到原点 $O$ 的距离变化速度为？

反思：第一反应从几何上暴力解（求曲率，求切线速度，再解三角求相对原点的速度分量那种），三角关系嵌套较为复杂 $5\times  \sqrt {\frac 1 {36} + 1} \cdot \cos (\arctan \frac 1 3 - \arctan \frac 1 6) $，但用灵活运用相对变化率，$s = \sqrt {x^2 + y^2} = \sqrt {x^2 + x}$，然后直接求导（求相对变化率 $\frac {\mathrm d s}{\mathrm d x}$）带入即可，发现结果是较为简洁的 $\frac {95} {6\sqrt {10}}$。 





## 导数证明性应用：对原函数定性的研究[^2]

### 中值定理类

1. **确定区间**

2. **确定辅助函数**

   简单情况下题设 $f(x)$ 本身即为辅助函数

   稍复杂情形如乘积求导公式逆用（$[f^2(x)]' = 2 f'(x)\cdot f(x)$ 也可以视为一种特殊的乘积的求导）、商的求导公式逆用、变限积分等

3. **确定点的值**

4. **确定所用定理**

   介值定理、费马引理、罗尔中值定理、拉格朗日中值定理、柯西中值定理



例1：设 $\lim _{x \to 0} \frac {f(x)} x = 1, f''(x)=0$. 证明 $f(x) \ge x$。

提示：题目并不难，但重在解题过程要严谨、连贯、清晰。首先由条件**二阶导存在**得**函数连续**，然后由函数连续得 $f(0) = \lim_{x\to 0 } f(x)$，再求极限 $\lim _{x \to 0 } f(x) = \lim_{x\to 0} \frac {f(x)} x x = 0$，再进一步确定**点 $x=0$ 处**的各种信息，最后带入拉格朗日余项的二阶泰勒公式即可。

> 更进一步，实际上，若 $f(x)$ 在 $x = x_0$ 处连续且 $\lim_{x\to x_0} \frac {f(x)} {x-x_0} = A$. 则一定有 $f(x_0) = 0 ,f'(x_0) = A$.



例2：设 $f(x)$ 在区间 $[a,b]$ 上连续，$(a,b)$ 内可导且 $f(a) \ne f(b)$. 证明 $\exist \xi, \eta \in (a,b)$，使得 $\frac {f'(\xi)} {2\xi} = \frac {f'(\eta)}{b+a} $

提示：一次柯西，一次拉格朗日。一经提示剩下的就很水了。

或者如果题目中以乘积的形式给出而不是比值给出证明目标，则更不容易联想到柯西，需自己分析结构、移项（推荐将相同字母移项到一侧）。



例3：设 $x > 0 $，

* $\sqrt {x+1} -\sqrt {x} = \frac 1 {2 \sqrt {x+\theta(x)}}$，证明 $0 < \theta(x) < 1$

* 求 $\lim _{x \to +\infty} \theta(x)$

提示：中值定理的变体，令 $\theta = \frac {\xi -a } {b-a}$，显然有$0 < \theta <1$，$\xi =a + \theta (b-a)$，拉格朗日中值定理可写作 $f(x)- f(x_0) = f'(x_0+\theta(x-x_0)) (x-x_0)$

 在本题中，可以令辅助函数$f(x)= \sqrt x$，区间为$[x,x+1]$，然后用拉格朗日中值定理，在本题中 $\theta = \xi - x$ ，因为区间是变的（x为变量），因此 $\xi$ 也是变的，故 $\theta$ 写作 $\theta(x)$ 的形式。

> **广义来说，无论是 $\xi$ 还是 $\theta$，都应该是区间端点的函数（即 $\xi(x)$ ），不该简单视为值。**只不过通常情况下区间是固定的，所以 $\xi$ 也被视为一个常数。

> 不过个人咋感觉这题不用中值定理也能做。
>
> $\frac 1 {\sqrt {x+1} +\sqrt {x}} = \frac 1 {2 \sqrt {x+\theta(x)}}$，证明 $0 < \theta (x) < 1$ 还是挺显然的吧。



例5：设 $f(x) = \arcsin x $，$\xi$ 为 $f(x)$ 在 $[a,b]$ 上拉式中值定理的中值点，0<b<1，求 $\lim_{b \to 0^+} \frac \xi b$



### 不等式类

* 单调性
* 最值
* 凹凸性



> 当然，中值定理的应用和不等式的应用有很大的交叉

例题1：证明 $\cos \sqrt 2 x \le -x^2 + \sqrt {1+x^4}, x\in (0,\frac {\sqrt {2}} 4 \pi)$.

提示：一般通过对不等式 $f(x) \le g(x)$ 作和或差得到辅助函数 $F(x) = f(x) - g(x)$ ，再通过求导等观察其性质，但偶尔也有作积或商会更方便，如此题，变形为证 $\cos \sqrt 2 x (\sqrt{1+x^4} + x^2) \le 1$.



### 等式类

* 证恒等式
* 根的个数
* 方程列



例1：证明当 $x\ge 1$ 时，$\arctan x - \frac 1 2 \arccos \frac {2x} {1+x^2} \equiv \frac \pi 4$.

提示：求导数，发现导数为0



例2：讨论常数 a 的值，确定曲线 $y = ax$ 与 $y= 1+x$ 的公共点的个数。

提示：注意 $a=0$ 的情况，其次注意 a 的正负号。细节决定成败！

# 其他

* 处处可导函数的导函数连续吗？

这命题粗看起来好像还挺有像回事的，稍微分析一下就能意识到不成立

“处处可导”对应下式极限存在：
$$
 \lim _{h \to 0}  \frac {f(x_0 + h) - f(x_0)} h
$$


“导函数连续”对应下式极限存在：
$$
\lim _{x \to x_0} \lim _{h \to 0} \frac {f(x + h) - f(x)}{ h} =\lim _{\Delta x \to 0} \lim_{h \to 0} \frac {f(x_0 + \Delta x + h) - f(x_0 + \Delta x)} h
$$
显然第一个极限处处存在不是第二个极限处处存在的充分条件（但确实是必要条件）

> 某点的左右导数和某点导数的左右极限有什么区别？ - 剑拔青云的回答 - 知乎 https://www.zhihu.com/question/428931360/answer/1560482774

反例也可以构造如下（取自普林斯顿微积分读本第七章，三角函数的极限和导数，最后一小节）：
$$
f(x) = 
\begin{cases}
x^2\sin x , &  x \ne 0,\\ 
0, &  x = 0,
\end{cases}
$$

> 个人之所以记录这一点是让自己体会中值定理的意义——导函数可能是不连续的，但依旧遵循中值定理。

* darboux中值定理








[^1]:张宇考研课程
[^2]:李正元 数学一 复习全书

 

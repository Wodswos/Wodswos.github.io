
# 连续统：分析的土壤

直接引入连续统，其实多少有些上帝视角，在数学的发展过程中，连续统的建立也经历了很漫长的过程，比微积分的早期探索要晚些，或者说，连续统的发展和微积分的发展是互相促进的。

## 从有理数开始

### 关于“小数”

小时候刚学到小数的时候一直有个疑惑，有限小数和无限循环小数长得也太不一样了——毕竟无限循环小数真要写出来是无限长的呀！但为啥所有老师好像都默认有限小数和无限循环小数都作为有理数，而不做区分，认为他们没啥本质差别呢？

当然后来意识到了有理数相对接近本质的定义是分数（Rational Number，所以有理数也许可以考虑直译为“比值数”？）之后，也算能接受有限小数和无限循环小数没有本质区别的事实了。

再后来知道了进制，就意识到三进制可以精确存储 $\frac 1 3$ ​这种分数的小数形式，用 n 进制也可以精确存储形如$\frac 1 {n^k}(k\in Z)$​​​​​这种分数的小数形式，而没有精度损失。就更加意识到“有限”和“无限循环”仅仅是因为进制的选取不同而带来的表象差异。

> 可惜了，很容易证明质数有无限多个，否则所有质数相乘的进制就能精确存储所有有理数。



## 第一次数学危机

既然有理数是稠密的，那么为什么存在无理数？  - 知乎 https://www.zhihu.com/question/453846157/

### 代数数



### 超越数[^4]

$\pi,e$ 是最知名的超越数，除此以外还有刘维尔数、钱珀瑙恩数等。



## 连续统和实分析

> 在探讨“点集大小”这个问题的过程中，数学家发现实数轴——这个他们曾经以为已经充分理解的东西——有着许多他们没有想到的特性。在极限思想的支持下，实数理论在这个时候被建立起来，它的标志是对实数完备性进行刻画的几条等价的定理 （确界定理，区间套定理，柯西收敛定理，Bolzano-Weierstrass Theorem和Heine-Borel Theorem等等）——这些定理明确表达出实数和有理数的根本区别：完备性（很不严格的说，就是对极限运算封闭）。随着对实数认识的深入，如何测量“点 集大小”的问题也取得了突破，勒贝格创造性地把关于集合的代数，和Outer content（就是“外测度”的一个雏形）的概念结合起来，建立了测度理论(Measure Theory)，并且进一步建立了以测度为基础的积分——勒贝格(Lebesgue Integral)。在这个新的积分概念的支持下，可积性问题变得一目了然。
>
> 上面说到的实数理论，测度理论和勒贝格积分，构成了我们现在称为实分析 (Real Analysis)的数学分支，有些书也叫实变函数论。[^3]

### 连续统对分析的意义





### 基本引理





# 微积分的萌芽

## 以直代曲和无穷小量

* 求圆的面积转为对圆的内接正N边形的面积的求解，如此一来当N越来越大，正N边形和圆的面积会越来越接近
* 曲边梯形的面积问题，也是定积分的一种直观理解[^1]

![](C:/Users/Five/Desktop/note/img/Curved_trapezoid.gif)





类似曲边梯形面积问题的还有瞬时速度的求解
$$
f(x)' = \lim_{\Delta x \rightarrow 0} \frac {f(x+\Delta x) - f(x) } {\Delta x}
$$





### 第二次数学危机

在上述早期的微积分应用案例中，都出现了用类似$\Delta x$的方法表示的无穷小量的概念。



可以发现无穷小量$\Delta x$​有如下基本性质[^1]​

* $\Delta x$无限接近于0，但$\Delta x \ne 0$， 否则以0为底边长的矩形面积为0，无穷多个0相加仍然为0
* $\Delta x$无限接近于0，又必须最接近0， 不可能有什么实数比更$\Delta x$接近于0
* $\Delta x$最接近于0，所以$\Delta x$一定不能为实数，否则就会$\frac {\Delta x} 2$比更$\Delta x$接近于0



这就很奇怪了，所谓的无穷小量（$\Delta x$）到底是什么东西呢？



## 微积分的早期探索

就之前所提到的微积分运算，基本都还是建立在几何“以直代曲”和物理运动的基础之上，所以可以说早期的微积分是根植于现实中的物理运动图景的。

以下是微积分早期发展过程中对极限的一些定义[^5]

* 莱布尼兹（1684）：如果任何一个连续变迁以一个极限为终结，那么就能够形成一种普遍的推理，它也能适用于最终的极限。
* 牛顿（1687）：逐渐变小的量之间的最终比值…（是）极限，即数量比值无限减小却总是收敛于它；它们比任何事先给定的差值更接近地趋向于它，但永远也不超过也不达到它，直到这些量减到无穷小。
* 麦克劳林（1742）：2x+o与a的比率当o减小时连续地减小，并当o是任意实增量时总是大于2x与a的比，而这显示了它连续趋向于2x与a的比，并以其为极限。
* 达朗贝尔（1754）：比值[a:2y+z]总是小于a:2y，但是z越小，这个比值就越大，并且由于人们可选取任意小的z，比值a:2y+z就可按我们希望的那样靠近比值a:2y，因此a:2y是比值a:2y+z的极限。
* 拉克鲁瓦（1806）：比值（μ1-μ）/h的极限…是这样一个值，当量h减小时这个比值按比例趋向于它并且可按我们作出的选择来接近于它。

### 柯西的探索

微积分早期起源于对运动的研究，也深深扎根于此，因此在早期对微积分的研究中难免将极限和运动牢牢挂钩，并借此给极限找到直观的物理图景。

柯西的成就在于认识到，只要涉及数学概念，**任何关于连续运动的先验的直观观念，是能够避免甚至必须避免的**。如经常见到的那样，由于放弃了形而上学方向上的努力，转而只采用那些在原则上相应于“可观测到的”现象的观念，从而开辟了科学进步的途径。

借此，柯西给出了自己对极限的定义：如果赋予同一变量的连续不断的一系列数值使其无限地趋向于一个固定的值，使得最终它们与固定值的差按人们所希望的那样小，则后者称为所有其他数值的极限。





# 极限的精确定义和微积分的新生

## 魏尔斯特拉斯和分析算术化

早期对极限的认识不够深入，对极限的刻画自然也难以简洁深刻，只能通过自然语言对极限做出一些直观但又不够彻底的定义。但自然语言终究是不够严谨。

魏尔斯特拉斯，Karl Theodor Wilhelm Weierstrass，被誉为现代分析之父。魏尔斯特拉斯在1861年举出一个处处连续却处处不可微的函数例子——魏尔斯特拉斯函数。
$$
f(x) = \sum _{i=0} ^\infty a^n \cos(b^n \pi x)
$$
上式中b为正奇数，$0<a<1,ab>1+\frac 3 2 \pi$​。函数的图像类似下图。

![](C:/Users/Five/Desktop/note/img/20200625100229.png)

### 精确定义极限：$\epsilon - \delta$ 语言

什么是无限趋近？什么是任意小？用这样含糊的词语定义极限——这个数学最基本的概念之一——显然是不合适的。于是魏尔斯特拉斯重新定义了极限，即著名的$\epsilon - \delta$​语言定义：



**$\forall \epsilon > 0, \exist \delta > 0$​ 使得 $\forall x (0<|{x-a}| <\epsilon)$​ 都有 $f(x)-A< \delta$​​，则称  $\lim _{x\to a}= A$​​​**



在上述的定义中，几乎完全不需要任何自然语言的描述，只使用一阶逻辑语言即完成了对极限的定义。而这一定义也被写入了目前的教科书中，作为主流定义。

> 如何能更好地理解（ε-δ）语言极限的定义？ - LLLBK的回答 - 知乎 https://www.zhihu.com/question/35804945/answer/581702196
>
> 如类似于极限定义的一个命题：“对每个实数，都有比它更大的数。”可以用形式语言写成 $\forall x \exist y, y > x$，对其的理解类似于如下过程（一阶逻辑博弈语义）
>
> A：有比100更大的数吗？  B：101
>
> A：有比1000更大的数吗？ B：1001
>
> A：有比10000更大的数吗？B：10001
>
> ……循环往复
>
> A：我服了。
>
> 
>
> 某天又偶然看到的一篇文章：理工男日常 | 甲方让我读懂了极限的ε-N语言 - PeiLingX的文章 - 知乎 https://zhuanlan.zhihu.com/p/453589676

还有一种等价的极限定义：

**无论数$b$​的邻域$V$是怎样的，总存在数a的一个邻域$U$，使得对除$x=a$以外的任何$x \in U$，总有$y \in V$，则称 $y=f(x)$ 在点 $x=a$ 处的极限为 $b $.** 

对于多元函数的极限而言，这种定义能毫不费力地套用，相比于前一种定义似乎更为简洁精炼。



### 实数理论和自然数理论

> 实数赋予我们极限与连续性等概念从而成为全部分析的本源，要使分析严格化，首先就要使实数系本身严格化。
>
> 因此，后来证明了实数系是完备系之后，长期围绕着实数概念的逻辑循环彻底消除，分析算术化运动大致宣告完成。

* 1872年，实数的三大派理论：Dedekind分割、Cantor-Henie-Meray的基本序列理论、Weierstrass的有界单调序列理论诞生
  * 由“Dedekind分割”定义的实数，是完全不依赖于空间与时间直观的人类智慧的创造物。
* 1889年，Peano最先利用公理化的方法，建立了完备的自然数理论
  * 1872-78年间，Dedekind也给出了一个整数理论
  * $\in$​ 等数学符号为Peano首创
  * God made the integers, all the rest is the work of man.
* 1900年，Poincare在巴黎第二届国际数学大会上发表了演讲。
  * “今天在分析中，如果我们不厌其烦地严格的话，就会发现只有三段论或归结于纯数的直觉是不可能欺骗我们的。今天我们可以宣称绝对的严密已经实现了。”
  * 咋感觉一股和开尔文男爵在英国皇家学会上演讲相同的味儿。



## 极限存在性

### 三明治定理 aka 夹逼定理

* 函数 $f$ 被夹在函数 $g$ 和 $h$ 之间；
* 当$x \rightarrow a$时, 这两个函数 $g$ 和 $h$ 都收敛于同一个极限 $L$；

那么当 $x \rightarrow a$ 时, $f$ 也收敛于极限 $L$.

> 证明思路：按照极限定义， $\forall \delta >0 , \exist \epsilon _1 > \epsilon_2 > 0 $， 分别使得 $g(x) , h(x)$ 在半径为 $\epsilon_1 ,\epsilon_2$ 的邻域内满足 $|L -g(x)| < \delta$ （$h(x)$ 同理），那么不妨取更小的那个邻域半径 $\epsilon_2 $ ，即在此邻域内有：
> $$
> L-\delta < g(x) < L + \delta , \quad L-\delta < h(x) < L + \delta \\
> L- \delta < g(x) < f(x) < h(x) < L+\delta
> $$
> 证毕

### 单调有界准则

对于数列 $a_n$

* 若 $\{a_n\}$ **单调递增**且有**上界**，则极限$\lim_{n\rightarrow \infty}\{a_n\}$存在；
* 若 $\{a_n\}$ **单调递减**且有**下界**，则极限$\lim_{n\rightarrow \infty}\{a_n\}$存在。

对于函数 $f(x)$ 同样成立。

> 单调有界准则是极限存在的**充分但不必要**条件。

> 同济版教材给出的是一种几何直观的解释：
>
> * 单调性：单调性使得的数列**要么趋向一个定值**，**要么趋于无穷**
> * 有界性：否定了趋于无穷的可能性
>
> 于是得到了趋于定值，即极限存在的结论。
>
> ……为什么单调性一定趋于定值或者无穷呢？虽然比较符合直观，也确实找不到反例，但总觉得不严谨。但好像严谨的证明要用到更底层的知识，比如有限覆盖定理之类的？智商、时间、学识都有限，就不深究了。

所以证明极限存在性可以借助单调有界准则归结到证明两个性质

* 单调性
* 有界性
  * 常常需要用到放缩等方法

### 柯西准则

函数极限 $\lim _{x\rightarrow a} f(x)$​ 存在的充要条件为：

对于 $\forall \epsilon > 0$​​，都存在 $a$​​ 的一个邻域 $U$，使得 $\forall x_1,x_2 \in U$，都有 $|f(x_1)-f(x_2)|<\epsilon$ .

> 证明思路：
>
> 必要性证明简单，略。
>
> 充分性证明太难，略
>
> 我对我的人生也是这个态度。



### 一些其他判定方法

一个函数极限存在的充要条件（左、右极限存在且相等）：
$$
\lim _{x\to x_0} f(x) = A \iff \lim_{x\to x_0^+} f(x) = \lim _{x\to x_0^-}f(x) =A
$$
相应的，数列极限存在的一个充要条件可表示如下：
$$
\lim_ {n\to \infty} x_n = A \iff \lim_{n\to \infty} x_{2n} = \lim _{n \to \infty} x_{2n-1} = A
$$

> 特别地，对于 $\lim _{x\to \infty} f(x)$ 的极限，需要分别对 $\lim _{x \to -\infty} f(x)$ 和 $\lim _{x \to +\infty} f(x)$ 两种情况进行考虑，类似于需要对分段函数某一点 $x_0$ 两边的极限分别进行考虑。
>
> 与点 $x_0$ 左极限和右极限需要相等同理，若 $\lim _{x \to -\infty} f(x)$ 和 $\lim _{x \to +\infty} f(x)$ 不相等，则极限不存在。



一些用于证明极限不存在的方法：

* 从极限的海涅定义出发，**找到两个趋向于不同极限的子列**，通过极限的唯一性可知极限不存在
  * 如证明极限 $\lim _{x\to 0} \sin \frac 1 x$ 不存在
* 看极限的某一部分是否存在极限，若不存在，**可能**整体就不存在极限。如假设 $\lim _{x\to 0} f(x) = A$ ，但 $\lim _{x \to 0}g(x)$ 极限不存在
  * 则有 $\lim _{x\to 0} [f(x) + g(x)]$ 极限不存在
  * 若还有 $A \ne 0$ ，则还可以进一步得到 $\lim [f(x) \cdot g(x)]$ 极限不存在






## 无穷小量和微分

在微积分萌芽时是用无穷小量定义极限的，但显然那时的无穷小量的定义不不清晰，有着这样那样的问题。

### 重新定义无穷小量：极限为0的变量

在重新建立数学基础的时候，数学家们发现似乎极限才是更基础的概念，即先定义极限，再用极限来定义无穷小量也许更合适。（在无穷小量的叫法所出现的时代，其意义完全不同于我们现在为它确定的意义[^2]）

于是无穷小量的内涵被重新定义：无穷小量表示的不是大小，而是一种变化特征。即无穷小量是一个特殊的（极限为0）变量，而不是一个有具体大小的常量。



在某一极限过程中**以零为极限的变量**称为**无穷小（量）**。[^6]

* 若 $\lim _{n\to \infty} x_n = 0$ ，则称数列 ${x_n}$ 为无穷小，记为 $x_n = o(1) (n\to \infty)$ ；
* 若 $\lim _{x\to x_0} f(x) = 0$，则称 $x \to x_0$ 时 $f(x)$ 为无穷小，记为 $f(x) = o(1)(x\to x_0)$



### 无穷小量的阶

对于两个无穷小量 $\alpha (x), \beta(x)$ 的比值 $\lim \frac {\alpha (x)} {\beta(x)}$

* 若两个无穷小的比值极限存在且不为0，称为同阶无穷小
  * 特殊地，若两个无穷小的比值极限存在且为1，称为等价无穷小

* 若两个无穷小的比值极限存在且不为0，则称分子是分母的高阶无穷小



$\alpha(x)$ 和 $\beta(x)$ 都是同一个极限过程中的无穷小，以 $\alpha (x)$ 为基本无穷小，若存在正数 $k$ 和非零常数 $l$ 使得 $\lim \frac {\beta(x)} {\alpha^k(x)} = l \ne 0$，则称 $\beta(x)$ 是 $\alpha (x)$ 的 $k$ 阶无穷小。



可以取 $\alpha(x) = (x-x_0)$ ，设 $\lim _{x\to a } f(x) = 0$，常用如下方法确定 $f(x)$ 是关于 $x-a$ 的几阶无穷小：[^6]

* 利用等价无穷小
* 待定阶数法
* 泰勒公式
* 利用无穷小阶的运算性质



#### 幂函数和指对数的阶比较

当 $x\to \infty$时，若以 $\frac 1 x$ 为基本无穷小，

* $\forall \alpha >0$， $e^{-x}$ 都是 $\frac 1 {x^\alpha}$ 的高阶无穷小
*  $\forall \beta >0, \forall \alpha >0$，$\frac 1 {x^\alpha}$ 都是 $\frac 1 {\ln ^\beta x} $ 的高阶无穷小

（在趋于零时也有一些类似的结论）



直观感受只需观察比值未定式求 $\alpha$ 次导（洛 $\alpha$ 次）的结果就完事了。

更严谨的写法（经典借助 $u^v = e^{v \ln u}$）：
$$
\lim_{x\to + \infty} \frac {x^{\alpha}} {e^x} = \frac {e^{\alpha \ln x}} {e^x} = e^{\alpha \ln x - x} = 0
$$

> 或者（以 $x^{-\alpha}$ 和 $e^{-x}$ 为例）可以通过**对比值取一次对数**从而构造一个新的函数（或者说新的式子、新的因变量），然后可以对该式子求得极限。
>
> （幂函数和对数的比较可以进行一次 $t = \ln x$ 的代换划归为前者的比较）

#### 等价无穷小量和等量代换

两个等价无穷小可以在极限计算中等量代换，如sinx和x。（需得是积、商，而不是和、差）

sinx和x并不是真的“等量”，只不过在趋向于0时，sinx和x之间的差值是一个比 x 本身更高阶的无穷小量，即sinx 在0点处的泰勒展开的一次项系数是1。



1999年考研数学一第一题，求极限
$$
\lim_{x\rightarrow 0} (\frac 1 {x^2} - \frac 1 {x\tan x})
$$
不太喜欢tan，所以可以化为$\frac {\sin x - x \cos x} {x^2\sin x}$，

可以将分母的sinx化为x——但不能直接将分子的中sinx化为x——因为无穷小量$(\sin x-x)$和等式本身的值可能是同阶的。



常见的等价无穷小（更详细的可以参考常见的泰勒展开）：
$$
\sin x \sim \tan x \sim \arcsin x \sim \arctan x \sim x \sim e^x -1 \sim \ln (1+x)\\
1-\cos x \sim \frac 1 2 x^2 \\
(1+\beta x)^\alpha - 1 \sim \alpha \beta x \\
a ^x -1 \sim x\ln a (a>0,a\ne 1) \\
\log _a (1+x) \sim \frac 1 {\ln a} x (a>0,a\ne 1)
$$





### 微分

详见导数部分。



# 极限的计算

简单来说三次尝试

1. 尝试用基本方法，或者至少用基本方法转换为更简洁（？）的形式

   含有变限积分之类的也要在这一步进行化简（对于变限积分即求导）

2. 尝试在 1 的基础上用泰勒方法（私以为泰勒方法是洛必达、等量代换等的超集，至少在无穷小的时候应该是）暴力计算

3. 尝试在 1 和 2 的基础上补充以放缩等小技巧

## 基本方法

### 化简和恒等变形

**化简和恒等变形（如换元、提取公因式、方差公式、取对数、有理函数分解以及三角函数等等。）等操作方法适用于大部分的数学计算场景，不局限于极限计算，故单拎出来写在别处，而不在此展开赘述了。**

详见[[0.1-脚手架和技巧篇]]



### 基础运算法则

* 四则运算法则及其推广
* 幂指数函数的极限运算法则及其推广

> 四则运算法则即
>
> 设 $\lim_{x\to a} f(x) = A, \lim_{x\to a} = B$，则 $\lim_{x\to a} [f(x) \pm g(x)] = A+B, \lim_{x\to a} [f(x) \cdot g(x)] = A \cdot B,\lim_{x\to a} \frac {f(x)} {g(x)} = \frac A B$
>
> 幂指数函数极限运算法则即
>
> 设 $\lim _{x\to a} f(x) = A>0, \lim_{x\to a} g(x)=B$ ，则有 $\lim _{x\to a} f(x)^{g(x)} = A^B(A>0)$

#### 及时提出极限不为零的因式



### 变量替换法（极限的复合法则？）

可以运用两个重要极限以及进一步拓展的如 $\lim _{x\to 0} \frac {x} {\sin x} =1$ 、$\lim_{x\to0 } \frac {x^2} {2-2\cos x} =1$ 等极限（或者说等价无穷小）求解其他极限，只需用 $\phi(x)$ 带入该极限表达式中的 $x$ 即可（当然需要 $\phi(x)$ 和 $x$ 一样趋于0）



### 七种未定式

七种未定式：$\frac 0 0, \frac \infty \infty, \infty \cdot 0, \infty - \infty , \infty^0, 0^0, 1^{\infty}$

其中，第一、二种是最基本的未定式，

第三、四中未定式通常通过通分等方式（倒代换创造分母等等）转换为前两种未定式。

> 具体来说，对于 $\infty \cdot 0$ 型一般将较复杂的因子取作分子，特别地，含有对数因子时，将因子取作分子；
>
> 对于 $\infty - \infty$ 型，若是与根式函数之和、差有关的 $\infty - \infty$ 型未定式，则需要进行有理化

第五、六、七种未定式常通过 $u^v = e ^{v \ln u}$ 、变量替换等方式（往往是殊途同归）转换为前两种未定式。

> 如对于 $1^ \infty $ 型（即 $\lim _{x\to x_0} f(x)=1, \lim_{x\to x_0} g(x) = \infty$）不定式可以利用 $u^v = e ^{v \ln u} $ （也即 $u = e^{\ln u}$）得到求解通式：
> $$
> \lim _{x\to x_0} f(x)^{g(x)} = \lim _{x\to x_0} e^{g(x) \ln f(x)} = \lim _{x\to x_0} e^{g(x) [f(x) - 1]} = e^A
> $$
> 也可以利用极限 $\lim _{x\to 0}(1+x) ^{\frac 1 x} = e$ 求解 $1^{\infty}$ 型极限的通式：
> $$
> \lim _{x \to x_0} f(x) ^{g(x)} = \lim_{x\to x_0} \{[1+(f(x)-1)] ^{\frac 1 {f(x) -1}}\} ^{g(x)[f(x)-1]} = e^{g(x)[f(x)-1]} = e^A
> $$
>

## 泰勒展开和等量代换

用泰勒展开可很快得到大量实用的等价无穷小
$$
e^x = 1 + x + \frac 1 {2!} x^2 + \dots + \frac 1 {n!} x^n \\

 \ln (1+x) = x - \frac 1 2 x^2 + \frac 1 3 x^3 + \dots + \frac {(-1)^{n-1} } n x^n = \Sigma ^{\infty}_{n=1}   {(-1)^{n-1}} \frac 1 n {x^n} , (0<x \le 1)\\

\sin x = x - \frac 1 {3!} x^3 + \frac 1 {5!} x^5 - \dots + (-1)^n\frac 1{(2n+1)!} {x^{2n+1}}  = \Sigma_0^{\infty} (-1)^n\frac 1 {(2n+1)!} {x^{2n+1}} \\

\cos x = 1 - \frac 1 {2!} x^2 + \frac 1 {4!}x^4 -\dots + (-1)^n \frac 1 {2n!} x^{2n} = \Sigma_0^{\infty} (-1)^n \frac 1 {2n!} x^{2n} \\

(1+x)^\alpha =1 + \alpha x + \frac {\alpha(\alpha-1)} 2 x^2 + o(x^2) \\

\tan x = x + \frac 1 3 x^3 + o(x^3) \\

\arctan x = x - \frac 1 3 x^3 + o(x^3) \\

\arcsin x = x + \frac 1 6 x^3 + o(x^3) \\

\frac 1 {1-x} = 1 + x + x^2 + \dots + x^n  \\

\frac 1 {1+x} = 1 - x + x^2 + \dots + (-1)^n x^n
$$



## 洛必达法则

> 众所周知，洛必达法则是洛必达跟他老师伯努利买的，洛必达和伯努利生活的年代是17世纪末18世纪初——而柯西，还得近一个世纪（1789年）才出生，而泰勒也还没长大。
>
> 而现在一般又都用柯西中值定理证明洛必达法则，但在历史上柯西中值定理显然是在洛必达法则之后的，这时间序列应该是不太对得上的（挠头）。
>
> 所以，有理由推测，洛必达法则在提出之初，并没有足够严格的证明，仅仅是经验性质的（大概也是因此称之为法则而不是定理）——至少相较于今天的数学体系而言证明应该是不够严谨。
>
> 况且，退一万步说，洛必达法则提出的时候，严格的数学分析体系都没雏形呢，在此之前的工作（如洛必达法则）都应该是比较粗糙，或者说是在建立了分析的基础之后得到进一步完善的。但并不影响沿用“洛必达法则”的名字，纪念历史贡献。

某种程度上，可以用泰勒展开的视角看洛必达法则（即将无穷小量泰勒展开再求导）：每一次求导是将无穷小量（或无穷大）降阶，直到某一边降阶为常数。

### 洛必达法则失效


$$
\lim _{x\rightarrow + \infty} \frac {\int_0^x |\sin t| dt} x \\

\lim _{x\rightarrow + \infty} \frac {\int_0^x |\cos t| dt} x \\

\lim _{x\rightarrow + \infty} \frac {\int_0^x (t - [t]) dt} x \\
$$

上述极限都无法通过洛必达求出（洛出来的结果震荡不存在，而不是数值、零、无穷三种情况之一），可以通过夹逼准则求。



充要条件为极限存在且等于该点函数值。已知一切初等函数在其定义域区间上连续，故可知初等函数在定义域内某一点的极限就是该点函数值

## 其他技巧和注意事项

* 函数的连续性
  * 充要条件为极限存在且等于该点函数值。
  * 已知一切初等函数在其定义域区间上连续，故可知初等函数在定义域内某一点的极限就是该点函数值
* 利用一些重要极限

$$
\lim _{x\to \infty} (1 + \frac 1 x) ^x  = e\\

\lim _{x \to \infty} \sqrt[x]{x} = \lim _{x \to \infty} x ^{\frac 1 x} = \lim _{x\to \infty} e^{\frac 1 x \ln x} = 1 \\
\lim _{x\to 0+} x^x = \lim_{x\to 0 +} e^ {x \ln x } = 1
$$





### 需要左右分别求极限得到该点极限的情况

* 显式的分段函数
* 函数中包含不连续的部分，如 $x \to 0 $ 时包含如 $e^{\frac 1 x}, \arctan \frac 1 x$ 等因式



### 夹逼定理应用：适当放缩求极限

如（下式也可以当成一般的 $\infty ^ 0$ 型未定式直接求，但是优雅永不过时，所以放缩也是一种方法）
$$
\lim _{x \to \infty} \sqrt[x]{x} = 1
$$

关于放缩的较详细内容参见 [[0.1-脚手架和技巧篇]]，这里仅展开极限相关部分

#### 利用极限的不等式性质进行放缩

……然而《李正元数学复习全书》上的这部分举的例题并不觉得和极限不等式性质有什么关系

#### 对积分极限可利用积分的性质进行放缩



 

### 有理化

$$
\sqrt a -\sqrt b = \frac {a-b}{\sqrt a + \sqrt b}
$$











### 利用定积分定义求某些和式的极限

形式上更像数列极限的讨论范围，故放在数列部分



### 趋于无穷的极限处理

趋于0的极限处理手段较多，比如最常用的等量代换，可比洛必达直接多了。

无穷大的处理相对显得匮乏，常见的就是洛必达法则等，故考虑将趋于无穷大的情况通过一些手段转化为趋于无穷小：

* 倒代换 $t = \frac 1 x$
* 分子分母同除以 $x$ （及其若干次幂） （相消法，消去极限为 0 或 无穷 的因子）



# 极限的性质和应用

## 性质

主要是**唯一性、保号性、不等式性质和局部有界性**等。推导不难，重在应用。



**局部保号性**：设 $\lim _{x \to x_0} f(x) = A$.

* 若 $A > 0$ ，则 $\exist \delta >0$ 使得当 $0< |{x- x_0}| < \delta$ 时有 $f(x) > 0$；
* 若 $\exist \delta > 0$，使得当 $0<|{x-x_0}| < \delta$ 时有$f(x) \geqslant 0$，则 $A \geqslant 0$。

**不等式性质**

设 $\lim_{x\to x_0} f(x) = A, \lim _{x\to x_0} g(x) =B$ ， 若 $A>B$，则 $\exist \delta > 0$ 使得当 $0 < |{x-x_0}| < \delta$ 时有 $f(x) > g(x)$ ；反之亦然。

> 局部保号性和不等式性质可相互推导，如一种简单地从局部保号性推得不等式性质的方法：设 $C= \frac {A+B} 2$，若 $A>B$ 则显然在 $x_0$ 的某一邻域内有 $f(x) - C > 0 > g(x)-C$，即 $f(x) > g(x)$ 。

> 只需取 $\epsilon = \frac A 2$ 即可。也被称为极限的不等式脱帽法，即由 $\lim_{x \to x_0} f(x) = A > 0$可得到 $f(x) > 0$ 。
>
> 相应的，还有等式脱帽法，写作 $\lim _{x \to x_0} f(x) = A \iff  f(x) = A +\alpha$，其中 $\lim_{x\to x_0} \alpha  = 0$。 
>
> 多元函数中极限的脱帽法用的更多。 

**局部有界性**

> 局部有界性的证明思路和不等式性质基本类似。
>
> $\lim _{x\to x_0} f(x) = A$，取 $g(x) = M , |M| > |A|$ ， $g(x)$ 在某一空心邻域内对 $ f(x)$有不等式性质，继而有 $|f(x)|<|M|$   ，即 $f(x)$ 在该邻域内有界。
>
> 或者直接从定义出发，也很容易证明。 $|f(x)| = |f(x)-A +A) | \leqslant |f(x) - A| + |A| < \epsilon + A$ ，然后 $\epsilon$ 任取一个常数即可。

## 函数的连续性

* 内点连续：$f(x)$ 在开区间 $(a,b)$ 内处处连续
* 端点连续：闭区间左端点的右连续和闭区间右端点的左连续

满足上述两点称 $f(x)$ 在**闭**区间 $[a,b]$ 连续。



判断函数连续性的方法[^6]：

* 若是**初等函数**，则在它的**定义域区间上处处连续**
* 连续性运算法则
  * 四则运算法则、复合函数、反函数
* 用定义判断
* 分别判断左右连续性

### 间断点

* 第一类间断点（左右极限都存在）
  * 跳跃间断点：左极限和右极限均存在但不相等
  * 可去间断点：左极限和右极限均存在且相等，但不等于函数在该点的值（或该点无定义，如分母为0）
* 第二类间断点（某个极限不存在）
  * 无穷间断点：左极限或右极限不存在且趋于无穷大
  * 振荡间断点：某个极限不存在且振荡



### 连续函数的性质

1. 局部保号性（从极限来）
2. **有界闭区间上连续函数的有界性**
3. **有界闭区间上连续函数存在最大、最小值**
4. **连续函数介值定理**
   1. 综合3.4.两条性质，可知连续函数的**值域**就是以最小值和最大值为端点的闭区间。即连续函数求值域可归结为求最值
   2. 由介值定理可以很容易得到连续函数零点存在性定理。



例题1：[^6]

设 $f(x)$ 在 $[0,1]$ 连续，且 $f(0) = f(1)$，证明：在 $[0,1]$ 上至少存在一点 $\xi$，使得 $f(\xi) = f(\xi + \frac 1 n)$ .

提示：即构造并证明 $F(x) = f(x) - f(x+\frac 1 n)$ 在 $[0,1 - \frac 1 n]$ 有零点。



例题2[^6]：

设 $f(x)$ 在 $(-\infty ,+ \infty)$ 连续，存在极限 $\lim_{x\to -\infty}f(x) = A$ 及 $\lim _{x\to + \infty} f(x)=B$。证明：

* 设 $A<B$，则 $\forall \mu \in (A,B)$ ， $\exist \xi \in (-\infty , +\infty)$，使得 $f(\xi) = \mu$
* $f(x)$ 在 $(-\infty, +\infty)$ 有界

# 海涅定理和数列极限

## 数列极限的定义

 $\lim_{n\to \infty} = A$ 的充要条件为：

$\forall \epsilon > 0, \exist$ 正整数 $N$，使得当 $n>N$ 时均有 $|{x_n - A} | < \epsilon$。



### 函数极限的海涅定义

函数 $f$ 在 $x_0$ 处的极限存在且为 $A$ 的充要条件为：

对于**任意**$f(x)$ 定义域内的数列 ${x_n}$，当 $x_n \to x_0$ 时，都有 $f(x_n) \to A$ 成立。



## 函数和数列，连续和离散

海涅定理是沟通函数极限和数列极限之间的桥梁。根据海涅定理，求函数极限则可化为求数列极限，同样求数列极限也可转化为求函数极限。因此，函数极限的所有性质都可用数列极限的有关性质来加以证明。



### 同函数极限的性质

* 唯一性
* 极限是个确定的数
* 有界性
* 保号性

## 存在性和计算

### 归结原则：将数列极限转化为函数极限

归结原则 aka 海涅定理，利用函数极限求数列极限，这类数列**通常有以 $n$ 为自变量的明确解析式**。

即令 $y_n = f(x_n)$ ，且 $x_n \to +\infty$ 。若 $ \lim _{x \to \infty} f(x) = A$，则 $ \lim _{n\to \infty} y_n = \lim _{n \to \infty} f(x_n) \lim _{x \to \infty} f(x) = A $

> 即将 $ \lim _{n\to \infty}y_n$ 转换为 $\lim_{x\to +\infty} f(x)$

求数列极限转化为函数极限的主要目的是为了用洛必达法则。

### 直接对数列进行分析和计算

通常需要裂项等技巧

常用裂项：
$$
\frac {1} {x (x+ 1)} = \frac 1 {x} - \frac 1 {x+1} \\
$$
有时也会灵活运用裂项（如逆用），如给出条件 $a_{n+1} = a_n^2 + a_n$ 的情况下用 $ \frac 1 {a_n+1} = \frac 1 {a_n}  - \frac 1{a_n(a_n+1)} = \frac  1 {a_n} - \frac 1 {a_{n+1}} $ 达到裂项、相消的目的，从而求得形如 $\lim _{n \to \infty } \sum _{i=1} ^n \frac 1 {a_n + 1}$ 的极限。 



### 从极限定义着手（常见于递推）

构造 $a_n = |X_n - A|\rightarrow 0$​ ，再证明 $\lim_{n \to +\infty } a_n \ = 0$ ，从而证明其 $\lim_{n\to +\infty} X_n  =A$。

**（因为数列往往是递推表达式，故常需要通过构造类似 $0\le |x_n - A | \le k|x_{n-1}- A| \le k^{n-1}|x_1- a|$ 的放缩来证明极限为 0）**

> 设 $x_1=1, x_n = 1 + \frac 1 {1+x_{n-1}}$，证明 $\lim_{n\rightarrow \infty} x_n$ 存在并求值。
>
> 构造 $|x_n - \sqrt 2| = |1+ \frac 1 {1+x_{n-1}}-\sqrt 2| = |\frac {(x_{n-1} - \sqrt 2 )(1-\sqrt 2)} {1 + x_{n-1}}|$​，尝试作形如 $0\le |x_n -a | \le k|x_{n-1}-a| \le k^2|x_{n-2}-a|$​ 的放缩。
> $$
> | \frac {(x_{n-1} - \sqrt 2 )(1-\sqrt 2)} {1 + x_{n-1}} | =  \frac { |x_{n-1} - \sqrt 2 | | 1-\sqrt 2| } {1+x_{n-1}} < (\sqrt 2 - 1)  | x_{n-1} - \sqrt 2|
> $$
> 
> （此题也可拆分为两个子列，奇数和偶数，进行分析，对两个子列分别进行单调有界证明，原因可见后续相对较为详细的不动点内容）

### 判定准则1：单调有界准则（常见于递推）



### 判定准则2：夹逼准则





### 详解：递推数列和不动点

数列 $\{a_n\}$ 如果满足递归（或递推）方程 $a_{n+1} =f (a_n) (n=1,2,3,\cdots)$，其中 $f$ 是已知的一元连续函数，则称 $\{a_n\}$ 为递归数列（或递推数列）。



#### 迭代函数的不动点

> 如果我们把函数看成 $\mathbb R $ 到 $\mathbb R$ 的一个映射，那么不动点经过这一映射之后，还是它本身，就像固定在数轴上。
>
> 递推数列——不动点法 - 忘忧北萱草的文章 - 知乎 https://zhuanlan.zhihu.com/p/116434438

从函数图像来说，不动点是和函数 $y = x$ 的交点。

#### 迭代函数的性质

##### 递推数列和迭代函数的单调性

若迭代函数 $f(x)$ 在区间 $I$ 上单调递增，则有

* 若 $a_2 > a _1$，则数列 $\{a_n \}$ 单调递增
* 若 $a_2 < a _1$，则数列 $\{a_n \}$ 单调递减

> 用数学归纳法很好证明，$ a_k > a_{k-1}$，则有 $f(a_k) > f(a_{k-1})$，即 $a_{k+1} > a_k > a_{k-1}$.

> $f(x)$ 单调增且 $a_2 > a_1 $ （即数列递增）其实包含两种情况（假设在特定不动点附近）：
>
> * $a_1$ 在不动点左侧且不动点附近的 $f'(x) < 1$ （即“跑”得比 y=x 慢），这时函数会迭代（增长）到不动点（极限）。
> * $a_1$ 在不动点右侧且不动点附近的 $f'(x)>1$ （即“跑”得比 y=x 快），这是函数会往右发散（如果右边没有其他交点）
>
> 同理，$f(x)$ 单调增且 $a_2 < a_1$ （即数列递减）也包含两种情况：
>
> * $a_1$ 在不动点左侧且不动点附近的 $f'(x) > 1$ （即“跑”得比 y=x 快），这时函数会往左发散（如果左边没有其他交点）
> * $a_1$ 在不动点右侧且不动点附近的 $f'(x) < 1$ （即“跑”得比 y=x 慢），这时函数会迭代（减小）到不动点（极限）。
>
> 换言之，函数跑得比 $y =x$ 慢且单调增就收敛于不动点？否则就不收敛？

> 一般来说，这类收敛的较严格证明**对应前文的单调有界准则**证明的方法。

若迭代函数 $f(x)$ 在区间 $I$ 上单调减——很遗憾，递推数列一般不具有单调性，但不一定不收敛（**严格证明通常对应前文从极限定义着手的的方法，或者分为两个子列分别分析**）。如下图，从 a1 到 a4 的过程，不单调但越来越靠近不动点。

![image-20220816194545549](C:\Users\Five\Desktop\note\img\image-20220816194545549.png)

##### 不动点附近的函数图像

继续接着上节单调性进行讨论

若迭代函数 $f(x)$ 在区间 $I$ 上单调递增，且 $a_2 > a _1$，则数列 $\{a_n \}$ 单调递增，在函数图像上表现为



若迭代函数 $f(x)$ 在区间 $I$ 上单调递增，且 $a_2 < a _1$，则数列 $\{a_n \}$ 单调递减，在函数图像上表现为



> 高中的时候，隔壁班数学老师大秀代过一次课，讲的内容正好就是数列的不动点——当时确实觉得这种数形结合可太优雅了。
>
> 但当时也没有深刻理解背后的原因，只是利用结论求递推式通项。



#### 结论

* 方法一： 证明极限存在（**通常是单调有界**） 并 利用不动点 求极限两步。
  * 显然比较适合迭代函数 $f(x)$ 单调增的情况
* 方法二：先利用不动点求出极限，再证明极限的正确性（**即从极限定义着手**）。
  * 显然比较适合迭代函数 $f(x)$ 不是单调增的情况
  * **或者也可以分为两个子列分别分析（证单调有界）？**



> 例题：
>
> * 证明方程 $x=2\ln(x+1)$​ 在 $(0,+\infty)$​ 内有唯一实根ε
> * $\forall x_1 > \epsilon$，定义 $x_{n+1} = 2 \ln(1+x_n),n=1,2,\dots$，证明 $\lim_{n\rightarrow \infty} x_n = \epsilon$​
>
> 函数图像如图所示有两个交点，但一个交点是0，在 $(0, + \infty)$ 范围内确实只有一个交点。
>
> ![image-20220816192017362](C:\Users\Five\Desktop\note\img\image-20220816192017362.png)
>
> 如果不联系函数图像，可以利用归纳法和单调有界准则，证明极限存在，然后设极限为A带入递推式（递推式就变成了第一小问的方程）发现极限就是 ε
>
> （第二小题如果区间改为$\forall 0 < x_1 < \epsilon$，也是类似的情况，或者在合并一下，直接令区间为$(0,\infty)$，第二小题依旧成立，分类讨论即可）

#### 拓展：不动点和矩阵的特征向量

为何可以用不动点法求数列通项公式，可不可以解释一下？ - 甜甜甜菜的回答 - 知乎 https://www.zhihu.com/question/389363180/answer/1182332565

为何可以用不动点法求数列通项公式，可不可以解释一下？ - Reuental的回答 - 知乎 https://www.zhihu.com/question/389363180/answer/1457503844



> 有时间再考虑填坑，考研不考这些，tnnd

### 利用定积分定义

由于
$$
\lim_{n \to \infty } \sum_{i=1} ^n f(\frac i n) \cdot \frac 1 n = \int _0 ^1 f(x) \mathrm d x
$$
故形如
$$
\lim_{n \to \infty } \sum_{i=1} ^n f(\frac i n) \cdot \frac 1 n
$$
的极限，可用定积分定义求解。





# 题型[^6]

* ​	求 $\frac 0 0$ 型或 $\frac \infty \infty$ 型未定式的极限
  * 主要技巧：恒等变形，洛必达，泰勒公式，变量（包括等价无穷小）替换
* 求 $0\cdot \infty$ 或 $\infty - \infty$ 型未定式的极限
  * 一般通过适当的变形转换为前一种未定式
* 求 $1 ^{\infty}, 0^0, \infty ^0$ 型未定式的极限
  * 借助一些基本极限（如 $\lim _{x\to \infty} (1 + \frac 1 x) ^x  = e , \lim _{x \to 0+} x^x = 1 ,\lim _{x \to \infty} \sqrt[x]{x} = 1$ ）消除未定式
  * 实际上，很显然后两个极限是第一个极限 $\lim _{x\to \infty} (1 + \frac 1 x) ^x  = e $ 结合**恒等变换 $u^v = e^{v \ln u }$** 的推论（要不怎么是两个重要极限之一呢）
    * 所以实际上是运用一个重要极限和恒等变换消除未定式
* 含变限积分的未定式的极限
  * 一般都想办法化到 $\frac 0 0$ 型或 $\frac \infty \infty$ 型，然后洛，去掉变限积分
* 由极限值确定函数式中的参数
* 利用适当放大缩小法求极限
* 求n项和数列的极限
  * 主要方法：恒等变形、放缩、**化为积分和利用定积分**、数值级数求和等
  * 更多时候是同时用到其中几种技巧
* 求n项积数列的极限
  * 常用方法：恒等变形，取对数
* 利用函数极限求数列极限
* 无穷小的比较与无穷小的阶的确定
* 讨论函数的连续性与间断点的类型
* 有关连续函数性质的命题



例题1：求下述极限
$$
 w = \lim _{x \to 0 ^+} (\cot x) ^{\frac 1 {\ln x}}
$$
提示：重要极限 + 恒等变形



例题2：求下述极限
$$
\lim _{n \to \infty} \sum _{i=1} ^n (\sqrt {1+ \frac i {n^2}} -1)
$$
 提示：放缩 + 夹逼



例题3：求下述极限
$$
w = \lim _{n\to \infty} \sum _{i=1} ^{n} \frac {n \tan \frac i n} {n^2 + i}
$$
提示：放缩 + 定积分



例题4：求下述极限
$$
\lim _{n\to \infty} \frac 1 {n^4} \prod _{i=1} ^{2n} (n^2 + i^2) ^{\frac 1 n}
$$
提示：取对数 + 定积分



例题5：求下述极限
$$
\lim _{n \to \infty} n [e(1+\frac 1 n )^{-n} - 1 ] 
$$
提示：等价无穷小因子替换 + $t=\frac 1 x$ 换元 +洛必达





## 数列

* 用导数综合
* 用积分综合
* 用方程（列）、区间（列）综合
* 用极限综合



> 设$x_1 = \ln2, x_n = \sum_{i=1}^{n-1} \ln(2-x_i)$​，证明$\lim _{n\rightarrow \infty} x_n$存在并求其值。
>
> 提示：构造函数$f(x) = x + \ln(2-x)$​​，观察其极值（求导）。然后证明单调有界，再求极限。
>
> 将导数和数列极限看似无关的两个东西结合起来了，如果没有铺垫或者提示，确实很难想到哇。

> 一些默认已知不等式：$\sin x \le x, x-1 \le \ln x, e^x \ge 1+x $​（当然还要考虑定义域）​​​，还有四个平均值的不等关系（算数均值 >= 集合均值 >=调和均值）
>
> 如$x_{n+1} = \sin x_n $​​，则可推得$x_{n+1} = \sin x_n \le x_n$



> 设$x_n = \sum _{k=1} ^{n} \tan^2\frac 1 {\sqrt {n+k}}$​，求$\lim_{n\rightarrow \infty} x_n$​
>
> 这题背后蕴含的其实是普适的求函数图像与x轴之间面积的方法（区间为$(0,1)$​）（或者就是定积分定义）：将图形n等分，然后面积即为$\lim _{n\rightarrow \infty} \sum _{i=1} ^n f(\frac i n) \frac 1 n = \int_0 ^1 f(x)dx$​​

## 方程列、区间列相关问题





[^1]: 马同学图解数学
[^2]: 《数学分析八讲》 辛钦
[^3]: 据说出自林达华 http://www.penglixun.com/study/science/mit_math_system.html
[^4]: 3Blue1Brown【官方双语】巴塞尔问题：著名公式背后的惊人几何学https://www.bilibili.com/video/BV1BW411x7DY
[^5]:柯西对极限的定义引入 ε 精确描述，意义何在？ 为什么这种精确的数学描述很重要？ - ANARKH的回答 - 知乎 https://www.zhihu.com/question/24829437/answer/29169439
[^6]:李正元 数学一 复习全书

